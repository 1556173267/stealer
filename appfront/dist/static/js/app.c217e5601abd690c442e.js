webpackJsonp([1],{"7Otq":function(e,t,n){e.exports=n.p+"static/img/logo.dc93bc7.png"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("img",{attrs:{src:n("7Otq"),width:"200",height:"200"}}),this._v(" "),t("div",{staticStyle:{"margin-bottom":"50px"}},[this._v("\n    无水印视频下载\n  ")]),this._v(" "),t("router-view"),this._v(" "),t("div",{staticStyle:{position:"fixed",bottom:"5px","text-align":"right"}},[t("el-link",{staticStyle:{"margin-left":"20px"},attrs:{href:"https://github.com/moyada/stealer/issues",type:"primary",target:"_blank"}},[this._v("\n      问题反馈\n    ")])],1)],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},i,!1,function(e){n("oDUu")},null,null).exports,s=n("/ocq"),r={name:"home",delimiters:["[[","]]"],data:function(){return{loading:!1,inputUrl:"",selectedType:"",options:[],downloadAddr:""}},mounted:function(){this.getTypes()},methods:{getTypes:function(){var e=this;this.$axios.get("video/list").then(function(t){200===t.status?(e.options=t.data,e.selectedType=t.data[0].value):e.$message.error("数据读取失败!")}).catch(function(t){return e.$message.error("数据读取失败!"+e.getErrData(t))})},selectType:function(e){this.selectedType=e},fetch:function(){var e=this,t=this.inputUrl.trim();""!==t?(this.loading=!0,this.$axios.get("video/fetch?type="+this.selectedType+"&url="+t).then(function(t){e.loading=!1,200===t.status?e.downloadAddr=t.data:(e.$message.error("地址分析失败, "+t.data),e.downloadAddr="")}).catch(function(t){e.loading=!1,e.$message.error("地址分析失败, "+e.getErrData(t)),e.downloadAddr=""})):this.$message({message:"分享地址不能为空",type:"warning"})},download:function(){var e=this,t=this.inputUrl.trim();""!==t?(this.loading=!0,this.$axios.get("video/download?type="+this.selectedType+"&url="+t,{responseType:"blob"}).then(function(t){e.loading=!1;var n=t.headers["content-disposition"],a=n.indexOf("filename=");n=n.substring(a+10,n.length-1);var i=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=i,o.setAttribute("download",n),document.body.appendChild(o),o.click(),o.remove()}).catch(function(t){e.loading=!1,e.$message.error("视频下载失败, "+e.getErrData(t))})):this.$message({message:"分享地址不能为空",type:"warning"})}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{display:"margin-top: 10px"}},[n("el-input",{staticStyle:{display:"inline-table",width:"50%"},attrs:{placeholder:"请输入分享地址"},model:{value:e.inputUrl,callback:function(t){e.inputUrl=t},expression:"inputUrl"}}),e._v(" "),n("el-select",{staticStyle:{margin:"2px"},attrs:{size:"large"},on:{change:function(t){return e.selectType(e.selectedType)}},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})}),1),e._v(" "),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{margin:"2px"},on:{click:function(t){return e.fetch()}}},[e._v("分析")]),e._v(" "),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{margin:"2px"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.download()}}},[e._v("下载")])],1),e._v(" "),""!==e.downloadAddr?n("div",{staticStyle:{"margin-top":"10px","padding-left":"20%","padding-right":"20%"}},[n("div",{staticStyle:{"margin-bottom":"10px"}},[e._v("下载地址: ")]),e._v(" "),n("el-link",{staticStyle:{"font-size":"large"},attrs:{href:e.downloadAddr,target:"_blank"}},[e._v("\n        "+e._s(e.downloadAddr)+"\n      ")])],1):e._e()],1)},staticRenderFns:[]};var d=n("VU/8")(r,l,!1,function(e){n("lC/C")},"data-v-48027263",null).exports;a.default.use(s.a);var c=new s.a({routes:[{path:"/",name:"HelloWorld",component:d}]}),p=n("zL8q"),u=n.n(p),g=(n("tvR6"),n("mtWM")),v=n.n(g);a.default.use(u.a),a.default.prototype.$axios=v.a,a.default.config.productionTip=!1,a.default.mixin({methods:{getErrData:function(e){var t,n,a,i=void 0;return e.response?"blob"===e.response.request.responseType?(t=e.response.data,a=void 0,n=URL.createObjectURL(t),(a=new XMLHttpRequest).open("GET",n,!1),a.send(),URL.revokeObjectURL(n),i=a.responseText):i=e.response.data:i=e.request?e.request:e.message,i}}}),new a.default({el:"#app",router:c,axios:v.a,components:{App:o},template:"<App/>"})},"lC/C":function(e,t){},oDUu:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c217e5601abd690c442e.js.map